<h1>Listing Portfolios</h1>

<table>
  <thead>
    <tr>
      <% unless @hidden_cols.include?('purpose') %>
        <th>Purpose</th>
      <% end %>
      <% unless @hidden_cols.include?('creation_date') %>
        <th>Creation date</th>
      <% end %>
      <% unless @hidden_cols.include?('principal') %>
        <th>Principal</th>
      <% end %>
      <% unless @hidden_cols.include?('cash') %>
        <th>Cash</th>
      <% end %>
      <% unless @hidden_cols.include?('owner_id') %>
        <th>Owner</th>
      <% end %>
      <% unless @hidden_cols.include?('manager_id') %>
        <th>Manager</th>
      <% end %>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @portfolios.each do |portfolio| %>
      <tr>
        <% unless @hidden_cols.include?('purpose') %>
          <td><%= portfolio.purpose %></td>
        <% end %>
        <% unless @hidden_cols.include?('creation_date') %>
          <td><%= portfolio.creation_date %></td>
        <% end %>
        <% unless @hidden_cols.include?('principal') %>
          <td><%= portfolio.principal %></td>
        <% end %>
        <% unless @hidden_cols.include?('cash') %>
          <td><%= portfolio.cash %></td>
        <% end %>
        <% unless @hidden_cols.include?('owner_id') %>
          <td><%= link_to portfolio.owner.name, portfolio.owner %></td>
        <% end %>
        <% unless @hidden_cols.include?('manager_id') %>
          <td><%= link_to portfolio.manager.name, portfolio.manager %></td>
        <% end %>
        <td><%= link_to 'Show', portfolio %></td>
        <td><%= link_to 'Edit', edit_portfolio_path(portfolio) %></td>
        <td><%= link_to 'Destroy', portfolio, method: :delete,
                        data: { confirm: 'Are you sure? All holdings in the portfolio (if any) will be deleted as well.' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Portfolio', new_portfolio_path %>
