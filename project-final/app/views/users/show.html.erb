<p>
  <strong>Name:</strong>
  <%= @user.name %>
</p>

<p>
  <strong>Email:</strong>
  <%= @user.email %>
</p>

<p>
  <strong>Role:</strong>
  <%= @user.role %>
</p>

<p>
  <strong>Phone:</strong>
  <%= @user.phone %>
</p>

<p>
  <strong>Address:</strong>
  <%= link_to @user.address.to_s, @user.address %>
</p>

<p>
  <strong>Owned Portfolios:</strong>
  <ul>
	<% @user.owned_portfolios.each do |portfolio| %>
      <li><%= link_to portfolio.id, portfolio %></li>
	<% end %>
  </ul>
</p>

<% if @user.advisor? %>
  <p>
    <strong>Managed Portfolios:</strong>
    <ul>
      <% @user.managed_portfolios.each do |portfolio| %>
        <li><%= link_to "#{portfolio.id}, owned by #{portfolio.owner.name}", portfolio %></li>
      <% end %>
    </ul>
  </p>
<% end %>

<p>
  <strong>Companies invested in:</strong>
  <% if @companies.nil? %>
    <%= link_to 'Show companies', params.merge(show: (Array.wrap(params[:show]) | ['companies'])) %>
  <% else %>
    <ul>
      <% @companies.each do |company| %>
        <li><%= link_to company.name, stock_path(company.id) %></li>
      <% end %>
    </ul>
  <% end %>
</p>
<p>
  <strong>Total amount invested: </strong>
  <% if @total_principal.nil? %>
    <%= link_to 'Show', params.merge(show: (Array.wrap(params[:show]) | ['total-principal'])) %>
  <% else %>
    $<%= @total_principal %>
  <% end %>
</p>

<%= link_to 'Edit', edit_user_path(@user) %> |
<%= link_to 'Back', users_path %>
